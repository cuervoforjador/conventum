/* turn.js 4.1.1 | Copyright (c) 2012 Emmanuel Garcia - 2019 Raffaele Morganti | turnjs.com | turnjs.com/license.txt */

var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(c,q,k){c instanceof String&&(c=String(c));for(var r=c.length,t=0;t<r;t++){var l=c[t];if(q.call(k,l,t,c))return{i:t,v:l}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,q,k){c!=Array.prototype&&c!=Object.prototype&&(c[q]=k.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(c,q,k,r){if(q){k=$jscomp.global;c=c.split(".");for(r=0;r<c.length-1;r++){var t=c[r];t in k||(k[t]={});k=k[t]}c=c[c.length-1];r=k[c];q=q(r);q!=r&&null!=q&&$jscomp.defineProperty(k,c,{configurable:!0,writable:!0,value:q})}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,k){return $jscomp.findInternal(this,c,k).v}},"es6","es3");$jscomp.polyfill("Math.sign",function(c){return c?c:function(c){c=Number(c);return 0===c||isNaN(c)?c:0<c?1:-1}},"es6","es3");
(function(c){function q(a,b){return a[0]==b[0]?!1:a.attr("page")?!0:a.parent()[0]?q(a.parent(),b):!1}function k(a){function b(a){this.name="TurnJsError";this.message=a}b.prototype=Error();b.prototype.constructor=b;return new b(a)}function r(a,b,c){return c?" translate3d("+a+"px,"+b+"px, 0px) ":" translate("+a+"px, "+b+"px) "}function t(a,b){return b?" scale3d("+a+", "+a+", 1) ":" scale("+a+") "}function l(a,b){return{x:a,y:b}}function p(a,b){return function(){return a.apply(b,arguments)}}var v={max:2,
flipbook:null,easeFunction:"ease-in-out",duration:500,when:{}},m={init:function(a){var b=this,e=this.data();a=c.extend({},v,a);if(!a.flipbook||!a.flipbook.turn("is"))throw k("options.flipbook is required");if("function"!=typeof a.max){var d=a.max;a.max=function(){return d}}e.zoom={opts:a,axis:l(0,0),scrollPos:l(0,0),eventQueue:[],mouseupEvent:function(){return m._eMouseUp.apply(b,arguments)},eventTouchStart:p(m._eTouchStart,b),eventTouchMove:p(m._eTouchMove,b),eventTouchEnd:p(m._eTouchEnd,b),flipbookEvents:{zooming:p(m._eZoom,
b),pressed:p(m._ePressed,b),released:p(m._eReleased,b),start:p(m._eStart,b),turning:p(m._eTurning,b),turned:p(m._eTurned,b),destroying:p(m._eDestroying,b)}};for(var g in a.when)if(Object.prototype.hasOwnProperty.call(a.when,g))this.on("zoom."+g,a.when[g]);for(g in e.zoom.flipbookEvents)if(Object.prototype.hasOwnProperty.call(e.zoom.flipbookEvents,g))a.flipbook.on(g,e.zoom.flipbookEvents[g]);this.css({position:"relative",overflow:"hidden"});if(c.isTouch)a.flipbook.on("touchstart",e.zoom.eventTouchStart).on("touchmove",
e.zoom.eventTouchMove).on("touchend",e.zoom.eventTouchEnd),this.on("touchstart",m._tap);else this.on("mousedown",m._mousedown).on("click",m._tap)},_tap:function(a){var b=c(this),e=b.data().zoom;e.draggingCorner||e.dragging||!q(c(a.target),b)||(m._addEvent.call(b,"tap",a),(a=m._eventSeq.call(b))&&b.trigger(a))},_addEvent:function(a,b){var c=this.data().zoom,d=(new Date).getTime();c.eventQueue.push({name:a,timestamp:d,event:b});10<c.eventQueue.length&&c.eventQueue.splice(0,1)},_eventSeq:function(){var a=
this.data().zoom.eventQueue,b=a.length-1;if(0<b&&"tap"==a[b].name&&"tap"==a[b-1].name&&a[b].event.pageX==a[b-1].event.pageX&&a[b].event.pageY==a[b-1].event.pageY&&200>a[b].timestamp-a[b-1].timestamp&&50<a[b].timestamp-a[b-1].timestamp)return c.extend(a[b].event,{type:"zoom.doubleTap"});if("tap"==a[b].name)return c.extend(a[b].event,{type:"zoom.tap"})},_prepareZoom:function(){var a=0,b=this.data().zoom,e=1/this.zoom("value");var d=b.opts.flipbook;var g=d.turn("direction"),m=d.data(),f=d.offset(),h=
this.offset(),n={height:d.height()},k=d.turn("view");"double"==d.turn("display")&&d.data().opts.autoCenter?k[0]?k[1]?(n.width=d.width(),d=l(f.left-h.left,f.top-h.top)):(n.width=d.width()/2,a="ltr"==g?0:n.width,d=l("ltr"==g?f.left-h.left:f.left-h.left+n.width,f.top-h.top)):(n.width=d.width()/2,a="ltr"==g?n.width:0,d=l("ltr"==g?f.left-h.left+n.width:f.left-h.left,f.top-h.top)):(n.width=d.width(),d=l(f.left-h.left,f.top-h.top));b.zoomer||(b.zoomer=c("<div />",{"class":"zoomer",css:{overflow:"hidden",
position:"absolute",zIndex:"1000000"}}).on("mousedown",function(){return!1}).appendTo(this));b.zoomer.css({top:d.y,left:d.x,width:n.width,height:n.height});g=k.join(",");if(g!=b.zoomerView)for(b.zoomerView=g,b.zoomer.find("*").remove(),g=0;g<k.length;g++)if(k[g]){h=m.pageObjs[k[g]].offset();var r=c(m.pageObjs[k[g]]);r.clone().transform("").css({width:r.width()*e,height:r.height()*e,position:"absolute",display:"",top:(h.top-f.top)*e,left:(h.left-f.left-a)*e}).appendTo(b.zoomer)}return{pos:d,size:n}},
value:function(){return this.data().zoom.opts.flipbook.turn("zoom")},zoomIn:function(a){var b=this,e=this.data().zoom,d=e.opts.flipbook,g=e.opts.max();d.offset();var k=this.offset();if(e.zoomIn)return this;d.turn("stop");var f=c.Event("zoom.change");this.trigger(f,[g]);if(f.isDefaultPrevented())return this;var h=m._prepareZoom.call(this);f=h.pos;var n=l(h.size.width/2,h.size.height/2),q=d.data().opts.autoCenter;e.scale=g;d.data().noCenter=!0;a="undefined"!=typeof a?"x"in a&&"y"in a?l(a.x-f.x,a.y-
f.y):c.isTouch?l(a.originalEvent.touches[0].pageX-f.x-k.left,a.originalEvent.touches[0].pageY-f.y-k.top):l(a.pageX-f.x-k.left,a.pageY-f.y-k.top):l(n.x,n.y);if(0>a.x||0>a.y||a.x>h.width||a.y>h.height)a.x=n.x,a.y=n.y;var p=l((a.x-n.x)*g+n.x,(a.y-n.y)*g+n.y);a=l(h.size.width*g>this.width()?a.x-p.x:0,h.size.height*g>this.height()?a.y-p.y:0);p=l(Math.abs(h.size.width*g-this.width()),Math.abs(h.size.height*g-this.height()));h=l(Math.min(0,h.size.width*g-this.width()),Math.min(0,h.size.height*g-this.height()));
var u=l(n.x*g-n.x-f.x-a.x,n.y*g-n.y-f.y-a.y);u.y>p.y?a.y=u.y-p.y+a.y:u.y<h.y&&(a.y=u.y-h.y+a.y);u.x>p.x?a.x=u.x-p.x+a.x:u.x<h.x&&(a.x=u.x-h.x+a.x);u=l(n.x*g-n.x-f.x-a.x,n.y*g-n.y-f.y-a.y);f={};f.transition="transform "+e.opts.easeFunction+" "+e.opts.duration+"ms";var v=function(){b.trigger("zoom.zoomIn");e.zoomIn=!0;e.flipPosition=l(d.css("left"),d.css("top"));d.turn("zoom",g).css({position:"absolute",margin:"",top:0,left:0});var a=d.offset();e.axis=l(a.left-k.left,a.top-k.top);q&&"double"==d.turn("display")&&
("ltr"==d.turn("direction")&&!d.turn("view")[0]||"rtl"==d.turn("direction")&&!d.turn("view")[1])&&(e.axis.x+=d.width()/2);b.zoom("scroll",u);b.on(c.mouseEvents.down,m._eMouseDown);b.on(c.mouseEvents.move,m._eMouseMove);c(document).on(c.mouseEvents.up,e.mouseupEvent);b.on("wheel",m._eMouseWheel);setTimeout(function(){e.zoomer.hide();e.zoomer.remove();e.zoomer=null;e.zoomerView=null},50)};e.zoomer.css(f).show();e.zoomer.on("transitionend",function(){c(this).off("transitionend");v()});e.zoomer.transform(r(a.x,
a.y,!0)+t(g,!0));return this},zoomOut:function(a){var b=this,e=this.data().zoom,d=e.opts.flipbook,g=1/e.scale;var k=this.offset();a="undefined"!=typeof a?a:e.opts.duration;if(e.zoomIn){var f=c.Event("zoom.change");this.trigger(f,[1]);if(f.isDefaultPrevented())return this;e.zoomIn=!1;e.scale=1;d.data().noCenter=!1;b.off(c.mouseEvents.down,m._eMouseDown);b.off(c.mouseEvents.move,m._eMouseMove);c(document).off(c.mouseEvents.up,e.mouseupEvent);b.off("wheel",m._eMouseWheel);f={};f.transition="transform "+
e.opts.easeFunction+" "+a+"ms";d.css(f);var h=c("<div />",{css:{position:"relative",top:e.flipPosition.y,left:e.flipPosition.x,width:d.width()*g,height:d.height()*g,background:"blue"}}).appendTo(d.parent());f=l(h.offset().left-k.left,h.offset().top-k.top);h.remove();var n=d.data().opts.autoCenter;n&&"double"==d.turn("display")&&(d.turn("view")[0]?d.turn("view")[1]||(f.x="ltr"==d.turn("direction")?f.x+h.width()/4:f.x-h.width()/4):f.x="ltr"==d.turn("direction")?f.x-h.width()/4:f.x+h.width()/4);var p=
c.findPos(d[0]);k=l(-d.width()/2-p.left+h.width()/2+f.x+k.left,-d.height()/2-p.top+h.height()/2+f.y+k.top);var q=function(){d[0].style.removeProperty?(d[0].style.removeProperty("transition"),d.transform(d.turn("options").acceleration?r(0,0,!0):"").turn("zoom",1),d[0].style.removeProperty("margin"),d.css({position:"relative",top:e.flipPosition.y,left:e.flipPosition.x})):d.transform("none").turn("zoom",1).css({margin:"",top:e.flipPosition.y,left:e.flipPosition.x,position:"relative"});n&&d.turn("center");
b.trigger("zoom.zoomOut")};0===a?q():(d.on("transitionend",function(){c(this).off("transitionend");q()}),d.transform(r(k.x,k.y,!0)+t(g,!0)));return this}},flipbookWidth:function(){var a=this.data().zoom.opts.flipbook,b=a.turn("view");return"double"!=a.turn("display")||b[0]&&b[1]?a.width():a.width()/2},scroll:function(a,b,c){var d=this.data().zoom,e=d.opts.flipbook,k=this.zoom("flipbookWidth"),f={};f.transition=c?"transform 200ms":"none";e.css(f);e.transform(r(-d.axis.x-a.x,-d.axis.y-a.y,!0));if(!b){b=
l(Math.min(0,(k-this.width())/2),Math.min(0,(e.height()-this.height())/2));e=l(k>this.width()?k-this.width():(k-this.width())/2,e.height()>this.height()?e.height()-this.height():(e.height()-this.height())/2);if(a.y<b.y){a.y=b.y;var h=!0}else a.y>e.y&&(a.y=e.y,h=!0);a.x<b.x?(a.x=b.x,h=!0):a.x>e.x&&(a.x=e.x,h=!0);h&&this.zoom("scroll",a,!0,!0)}d.scrollPos=l(a.x,a.y)},resize:function(){var a=this.data().zoom,b=a.opts.flipbook;if(1<this.zoom("value")){var c=b.offset(),d=this.offset();a.axis=l(c.left-
d.left+(a.axis.x+a.scrollPos.x),c.top-d.top+(a.axis.y+a.scrollPos.y));"double"!=b.turn("display")||"ltr"!=b.turn("direction")||b.turn("view")[0]||(a.axis.x+=b.width()/2);this.zoom("scroll",a.scrollPos)}},_eZoom:function(){for(var a=this.data().zoom,b=a.opts.flipbook,c=b.turn("view"),d=0;d<c.length;d++)c[d]&&this.trigger("zoom.resize",[a.scale,c[d],b.data().pageObjs[c[d]]])},_eStart:function(a,b){1!=this.zoom("value")&&a.preventDefault()},_eTurning:function(a,b,c){var d=this;a=this.zoom("value");var e=
this.data().zoom;b=e.opts.flipbook;e.page=b.turn("page");if(1!=a){for(e=0;e<c.length;e++)c[e]&&this.trigger("zoom.resize",[a,c[e],b.data().pageObjs[c[e]]]);setTimeout(function(){d.zoom("resize")},0)}},_eTurned:function(a,b){if(1!=this.zoom("value")){a=this.data().zoom;var c=a.opts.flipbook;b>a.page?this.zoom("scroll",l(0,a.scrollPos.y),!1,!0):b<a.page&&this.zoom("scroll",l(c.width(),a.scrollPos.y),!1,!0)}},_ePressed:function(){c(this).data().zoom.draggingCorner=!0},_eReleased:function(){var a=c(this).data().zoom;
setTimeout(function(){a.draggingCorner=!1},1)},_eMouseDown:function(a){c(this).data().zoom.draggingCur=c.isTouch?l(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY):l(a.pageX,a.pageY);return!1},_eMouseMove:function(a){var b=c(this).data().zoom;if(b.draggingCur){b.dragging=!0;a=c.isTouch?l(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY):l(a.pageX,a.pageY);var e=l(a.x-b.draggingCur.x,a.y-b.draggingCur.y);c(this).zoom("scroll",l(b.scrollPos.x-e.x,b.scrollPos.y-e.y),
!0);b.draggingCur=a;return!1}},_eMouseUp:function(a){var b=c(this).data().zoom;b.dragging&&c(this).zoom("scroll",b.scrollPos);b.draggingCur=null;setTimeout(function(){b.dragging=!1},1)},_eMouseWheel:function(a){a=a.originalEvent;var b=c(this).data().zoom;a=l(b.scrollPos.x-50*Math.sign(a.deltaX),b.scrollPos.y+50*Math.sign(a.deltaY));c(this).zoom("scroll",a,!1,!0)},_eTouchStart:function(a,b){b=c(this).data().zoom;a=l(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY);b.touch={};b.touch.initial=
a;b.touch.last=a;b.touch.timestamp=(new Date).getTime();b.touch.speed=l(0,0)},_eTouchMove:function(a){var b=c(this).data().zoom,e=c(this).zoom("value"),d=b.opts.flipbook,g=(new Date).getTime();a=l(a.originalEvent.touches[0].pageX,a.originalEvent.touches[0].pageY);b.touch&&1==e&&!d.data().mouseAction&&(b.touch.motion=l(a.x-b.touch.last.x,a.y-b.touch.last.y),b.touch.speed.x=0===b.touch.speed.x?b.touch.motion.x/(g-b.touch.timestamp):(b.touch.speed.x+b.touch.motion.x/(g-b.touch.timestamp))/2,b.touch.last=
a,b.touch.timestamp=g)},_eTouchEnd:function(a){a=c(this).data().zoom;if(a.touch&&1==c(this).zoom("value")){var b=Math.abs(a.touch.initial.y-a.touch.last.y);50>b&&(-1>a.touch.speed.x||-100>a.touch.last.x-a.touch.initial.x)?this.trigger("zoom.swipeLeft"):50>b&&(1<a.touch.speed.x||100<a.touch.last.x-a.touch.initial.x)&&this.trigger("zoom.swipeRight")}},_eDestroying:function(){var a=this,b=this.data().zoom,e=b.opts.flipbook;this.zoom("zoomOut",0);c.each("tap doubleTap resize zoomIn zoomOut swipeLeft swipeRight".split(" "),
function(b,c){a.off("zoom."+c)});for(var d in b.flipbookEvents)Object.prototype.hasOwnProperty.call(b.flipbookEvents,d)&&e.off(d,b.flipbookEvents[d]);e.off("touchstart",b.eventTouchStart).off("touchmove",b.eventTouchMove).off("touchend",b.eventTouchEnd);this.off("touchstart",m._tap).off("click",m._tap);b=null;this.data().zoom=null}};c.extend(c.fn,{zoom:function(){var a=arguments;if(a[0]&&"object"!=typeof a[0]){if(m[a[0]])return m[a[0]].apply(c(this[0]),Array.prototype.slice.call(a,1));throw k(a[0]+
" is not a method");}return m.init.apply(c(this[0]),a)}})})(jQuery);
