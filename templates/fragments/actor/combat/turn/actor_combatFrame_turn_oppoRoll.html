{{!--- ATTACKER ---}}
<div class="_hexCombatantOppo1">
     <div class="_img" style="background-image: url({{backCombat._oppoRoll.attacker.combatant.actor.img}})">
        <!-- <label class="_whiteBorderHard">{{backCombat._turn.combatant.name}}</label> -->
     </div>
    
</div>
<div class="_hexInfoOppo1">
    <div class="_progressBar">
        <div class="_back"></div>
        
        {{#if backCombat._oppoRoll.attacker.beforeValue}}
        <div class="_result" style="width: {{backCombat._oppoRoll.attacker.valueBar}}%; 
                                    background: {{backCombat._oppoRoll.attacker.valueColor}};"></div>
        {{/if}}        
        
        <div class="_front" style="width: {{backCombat._oppoRoll.attacker.totalBar}}%;"></div>

        {{#unless backCombat._oppoRoll.attacker.beforeValue}}
        <div class="_result" style="width: {{backCombat._oppoRoll.attacker.valueBar}}%; 
                                    background: {{backCombat._oppoRoll.attacker.valueColor}};"></div>
        {{/unless}}        

        <div class="_value" style="left: {{backCombat._oppoRoll.attacker.totalPos}}%">
            {{#if backCombat._oppoRoll.attacker.rolled}}
                {{backCombat._oppoRoll.attacker.result}}
            {{else}}
                {{backCombat._oppoRoll.attacker.total}}%
            {{/if}}
        </div>
    </div>
</div>
<div class="_hexActionOppo1">
    <div class="_img">
        <label class="_whiteBorderHard _title">{{backCombat._oppoRoll.attacker.expression}}</label>
        <label class="_whiteBorderHard">{{backCombat._oppoRoll.attacker.combatant.name}}</label>
    </div>
</div>
<div class="_hexRollOppo1">
    <div class="_contentRoll">
        <div class="_rollStats">
                 
            <div class="_statRow" style="padding-left: 20%;">
                <label>{{backCombat._oppoRoll.attacker.expression}}</label>
                <label class="_stat">{{backCombat._oppoRoll.attacker.percent}} %</label>               
            </div> 
            <div class="_statRow" style="padding-left: 13%;">
                <label>{{localize "common.modCusto"}}</label>
                <div class="_combo">
                    <input id="combatCustoModOppo1" 
                           {{#if backCombat._oppoRoll.attacker.rolled}} disabled {{/if}}
                           data-stepid="{{backCombat._turn.step.id}}"
                           data-target="attacker"
                           data-tooltip="{{localize 'info.combatMod'}}"
                           type="text" 
                           value="{{backCombat._oppoRoll.attacker.custoMod}}"/>
                    <label class="_stat"> %</label>
                </div> 
            </div>           

            <div class="_statRow" style="padding-left: 13%;">
                {{#unless backCombat._oppoRoll.attacker.rolled}} 
                    
                    <a class="_frameButton {{#if backCombat.control.attacker.error}}_error{{/if}} _oppoRoll _oppo1" 
                        data-action="roll"
                        data-target="combat"
                        data-fluxid="{{backCombat._fluxStep.id}}"
                        data-combatantid="{{backCombat._oppoRoll.attacker.combatant.id}}"
                        data-skillid=""
                        data-actionid="{{backCombat._oppoRoll.attacker.action.id}}"
                        data-weaponid="{{backCombat._oppoRoll.attacker.weapon.id}}"
                        data-stepid="{{backCombat._turn.step.id}}"
                        
                        data-rollanti="false"
                        data-rollmod=""

                        data-rolltitle="{{backCombat._oppoRoll.attacker.expression}}"
                        data-rollbase="{{backCombat._oppoRoll.attacker.percent}}"                    
                        data-rollcustomod="{{backCombat._oppoRoll.attacker.custoMod}}"
                        data-rollbonus="{{backCombat._oppoRoll.attacker.bonus}}"
                        data-rollpenal="{{backCombat._oppoRoll.attacker.penal}}"
                        data-rollvalue="{{backCombat._oppoRoll.attacker.total}}"

                        data-rolltitleoppo="{{backCombat._oppoRoll.defender.expression}}"
                        data-rollbaseoppo="{{backCombat._oppoRoll.defender.percent}}"
                        data-rollcustomodoppo="{{backCombat._oppoRoll.defender.custoMod}}"
                        data-rollbonusoppo="{{backCombat._oppoRoll.defender.bonus}}"
                        data-rollpenaloppo="{{backCombat._oppoRoll.defender.penal}}"
                        data-rollvalueoppo="{{backCombat._oppoRoll.defender.total}}"

                        data-rollluck="false",
                        data-rolllevels="false">
                        <button data-img="icons/roll.svg"
                                data-label="common.roll" 
                                class="_whiteBorderHard">
                        </button>
                    </a>
                {{else}}
                    <label class="_pseudoFrameButton _whiteBorderHard">
                        <img src="{{path}}/assets/icons/roll.svg"/>
                        {{backCombat._oppoRoll.attacker.result}} / {{backCombat._oppoRoll.attacker.total}}
                    </label>
                {{/unless}}

            </div>        

        </div>
    </div>
</div>

{{!--- DEFENDER ---}}
<div class="_hexCombatantOppo2">
    <div class="_img" style="background-image: url({{backCombat._oppoRoll.defender.combatant.actor.img}})">
       <!-- <label class="_whiteBorderHard">{{backCombat._turn.combatant.name}}</label> -->
    </div>
   
</div>
<div class="_hexInfoOppo2">
    <div class="_progressBar">
        <div class="_back"></div>
        
        {{#if backCombat._oppoRoll.defender.beforeValue}}
        <div class="_result" style="width: {{backCombat._oppoRoll.defender.valueBar}}%; 
                                    left: calc(100% - {{backCombat._oppoRoll.defender.valueBar}}%);
                                    background: {{backCombat._oppoRoll.defender.valueColor}};"></div>
        {{/if}}        
        
        <div class="_front" style="width: {{backCombat._oppoRoll.defender.totalBar}}%; 
                                   left: calc(100% - {{backCombat._oppoRoll.defender.totalBar}}%);"></div>

        {{#unless backCombat._oppoRoll.defender.beforeValue}}
        <div class="_result" style="width: {{backCombat._oppoRoll.defender.valueBar}}%; 
                                    left: calc(100% - {{backCombat._oppoRoll.defender.valueBar}}%);
                                    background: {{backCombat._oppoRoll.defender.valueColor}};"></div>
        {{/unless}}        

        <div class="_value" style="left: {{backCombat._oppoRoll.defender.totalPos}}%">
            {{#if backCombat._oppoRoll.defender.rolled}}
                {{backCombat._oppoRoll.defender.result}}
            {{else}}
                {{backCombat._oppoRoll.defender.total}}%
            {{/if}}
        </div>
    </div>
</div>
<div class="_hexActionOppo2">
    <div class="_img">
        <label class="_whiteBorderHard _title">{{backCombat._oppoRoll.defender.expression}}</label>
        <label class="_whiteBorderHard">{{backCombat._oppoRoll.defender.combatant.name}}</label>
    </div>
</div>
<div class="_hexRollOppo2">
    <div class="_contentRoll">
        <div class="_rollStats">
                   
            <div class="_statRow" style="padding-right: 13%;">
                <label>{{backCombat._oppoRoll.defender.expression}}</label>
                <label class="_stat">{{backCombat._oppoRoll.defender.percent}} %</label>               
            </div> 
            <div class="_statRow" style="padding-right: 13%;">
                <label>{{localize "common.modCusto"}}</label>
                <div class="_combo">
                    <input id="combatCustoModOppo2" 
                           {{#if backCombat._oppoRoll.defender.rolled}} disabled {{/if}}
                           data-stepid="{{backCombat._turn.step.id}}"
                           data-target="defender"
                           data-tooltip="{{localize 'info.combatMod'}}"
                           type="text" 
                           value="{{backCombat._oppoRoll.defender.custoMod}}"/>
                    <label class="_stat"> %</label>
                </div> 
            </div>            
            <div class="_statRow" style="padding-right: 20%;">
                {{#unless backCombat._oppoRoll.defender.rolled}}

                    <a class="_frameButton {{#if backCombat.control.defender.error}}_error{{/if}} _oppoRoll _sym  _oppo2" 
                        data-action="roll"
                        data-target="combat"
                        data-fluxid="{{backCombat._fluxStep.id}}"
                        data-combatantid="{{backCombat._oppoRoll.defender.combatant.id}}"
                        data-skillid=""
                        data-actionid="{{backCombat._oppoRoll.defender.action.id}}"
                        data-weaponid="{{backCombat._oppoRoll.defender.weapon.id}}"
                        data-stepid="{{backCombat._turn.step.id}}"
                        
                        data-rollanti="true"                    
                        data-rollmod=""

                        data-rolltitle="{{backCombat._oppoRoll.defender.expression}}"                    
                        data-rollbase="{{backCombat._oppoRoll.defender.percent}}"
                        data-rollcustomod="{{backCombat._oppoRoll.defender.custoMod}}"
                        data-rollbonus="{{backCombat._oppoRoll.defender.bonus}}"
                        data-rollpenal="{{backCombat._oppoRoll.defender.penal}}"
                        data-rollvalue="{{backCombat._oppoRoll.defender.total}}"

                        data-rolltitleoppo="{{backCombat._oppoRoll.attacker.expression}}"
                        data-rollbaseoppo="{{backCombat._oppoRoll.attacker.percent}}"
                        data-rollcustomodoppo="{{backCombat._oppoRoll.attacker.custoMod}}"
                        data-rollbonusoppo="{{backCombat._oppoRoll.attacker.bonus}}"
                        data-rollpenaloppo="{{backCombat._oppoRoll.attacker.penal}}"
                        data-rollvalueoppo="{{backCombat._oppoRoll.attacker.total}}"

                        data-rollluck="false",
                        data-rolllevels="false">
                        <button data-img="icons/roll.svg" 
                                data-label="common.roll"
                                class="_whiteBorderHard">
                        </button>
                    </a>   

                {{else}}
                    <label class="_pseudoFrameButton _whiteBorderHard">
                        <img src="{{path}}/assets/icons/roll.svg"/>
                        {{backCombat._oppoRoll.defender.result}} / {{backCombat._oppoRoll.defender.total}}
                    </label>
                {{/unless}}                    
                    
            </div>  

        </div>
    </div>
</div>